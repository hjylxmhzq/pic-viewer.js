{"version":3,"sources":["webpack://PicViewer/webpack/universalModuleDefinition","webpack://PicViewer/./src/index.ts","webpack://PicViewer/./src|sync","webpack://PicViewer/webpack/bootstrap","webpack://PicViewer/webpack/runtime/hasOwnProperty shorthand","webpack://PicViewer/webpack/startup"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"PicViewer\"] = factory();\n\telse\n\t\troot[\"PicViewer\"] = factory();\n})(self, function() {\nreturn ","interface CtorOptions {\n  el: string | HTMLElement;\n  lazy?: boolean;\n}\n\nlet style = `\n.pic-viewer-imgbox {\n  display: flex;\n  height: 100%;\n  overflow: hidden;\n}\n.pic-viewer-toolbar {\n  transition: opacity 0.3s;\n  position: absolute;\n  left: 50%;\n  bottom: 10px;\n  width: 300px;\n  height: 50px;\n  transform: translateX(-50%);\n  background-color: #eee;\n  opacity: 1;\n  display: flex;\n  overflow: hidden;\n}\n.pic-viewer-toolbar:hover {\n  opacity: 0.3;\n}\n.pic-viewer-preview-img {\n  transition: border-color 0.3s;\n  width: 50px;\n  height: 50px;\n  object-fit: cover;\n  border: 3px solid #aaa;\n  box-sizing: border-box;\n}\n.pic-viewer-preview-img.current {\n  border-color: #fff;\n  z-index: 1;\n}\n.pic-viewer-preview-img:hover {\n  border-color: #eee;\n  z-index: 1;\n}\n.pic-viewer-preview-img:not(:first-child) {\n  margin-left: -3px;\n}\n.pic-viewer-counter {\n  font-family: sans-serif;\n  position: absolute;\n  left: 10px;\n  bottom: 10px;\n  border-radius: 50%;\n  width: 25px;\n  height: 25px;\n  z-index: 2;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 12px;\n  color: white;\n}\n`.trim();\n\nfunction insertCss(style: string) {\n  const styleEl = document.createElement('style');\n  styleEl.innerHTML = style;\n  document.head.appendChild(styleEl);\n}\n\ninsertCss(style);\n\nexport default class Viewer {\n  el: HTMLElement;\n  images: HTMLImageElement[];\n  _currentIndex: number;\n  imgBox: HTMLDivElement;\n  counter: HTMLDivElement;\n  previewBar: HTMLDivElement;\n  raf: number;\n  pRaf: number;\n  intouch: boolean;\n  bounding: DOMRect;\n  lazy: boolean;\n  constructor(options: CtorOptions) {\n    const {\n      el,\n      lazy = false\n    } = options;\n    this.lazy = lazy;\n    this.el = null;\n    if (typeof el === 'string') {\n      this.el = document.querySelector(el)\n    } else {\n      this.el = el;\n    }\n    if (!this.el) {\n      throw new TypeError('el should be a valid selector or HTMLElement');\n    }\n    this.raf = null;\n    this.pRaf = null;\n    this.images = [];\n    this._currentIndex = 0;\n    this.el.innerHTML =\n      `<div style=\"position: relative; height: 100%; width: 100%; background-color: #ccc\">\n    <div class=\"pic-viewer-imgbox\"></div>\n</div>`;\n    this.counter = document.createElement('div');\n    this.counter.className = 'pic-viewer-counter';\n    this.el.firstElementChild.appendChild(this.counter);\n    this.counter.innerText = '1/' + this.images.length;\n    this.bounding = this.el.getBoundingClientRect();\n    if (this.bounding.width > 600 && !lazy) {\n      const toolbar = document.createElement('div');\n      toolbar.addEventListener('click', (e) => {\n        const idx = (e.target as HTMLElement).dataset['index']\n        if (idx) {\n          const i = parseInt(idx);\n          this.currentIndex = i;\n        }\n      });\n      this.previewBar = toolbar;\n      toolbar.classList.add('pic-viewer-toolbar');\n      this.el.firstElementChild.appendChild(toolbar);\n    }\n    this.imgBox = this.el.querySelector('.pic-viewer-imgbox');\n    this.imgBox.addEventListener('wheel', (e) => {\n      if (e.deltaY > 0) {\n        if (this.currentIndex >= this.images.length - 1) {\n          return;\n        }\n        this.currentIndex++;\n      } else {\n        if (this.currentIndex <= 0) {\n          return;\n        }\n        this.currentIndex--;\n      }\n      // this.imgBox.scrollLeft = e.deltaY + this.imgBox.scrollLeft;\n    });\n    this.intouch = false;\n    let startX = 0;\n    let startY = 0;\n    let startLeft = 0;\n    let scaleStart = 0;\n    let inScale = false;\n    let curScale = 1;\n    let lastScale = 1;\n    let dir = 0;\n    let lastLeft = 0;\n    let lastTop = 0;\n    let cY = 0;\n    let cX = 0;\n    let transformScale = '';\n    this.imgBox.addEventListener('dblclick', (e) => {\n      const img = this.images[this.currentIndex];\n      if (curScale > 1) {\n        transformScale = 'scale(1)';\n        img.style.left = 0 + 'px';\n        img.style.top = 0 + 'px';\n        img.style.transform = transformScale;\n        curScale = 1;\n      } else {\n        transformScale = 'scale(2)';\n        img.style.left = 0 + 'px';\n        img.style.top = 0 + 'px';\n        img.style.transform = transformScale;\n        cX = 0;\n        cY = 0;\n        curScale = 2;\n      }\n    });\n    this.imgBox.addEventListener('touchstart', (e) => {\n      this.intouch = true;\n      if (e.touches.length > 1) {\n        lastScale = curScale;\n        this.intouch = false;\n        inScale = true;\n        this.currentIndex = this.currentIndex;\n        const x1 = e.touches[0].clientX;\n        const y1 = e.touches[0].clientY;\n        const x2 = e.touches[1].clientX;\n        const y2 = e.touches[1].clientY;\n        scaleStart = Math.sqrt((y2 - y1) * (y2 - y1) + (x2 - x1) * (x2 - x1));\n      } else {\n        inScale = false;\n      }\n      lastLeft = cX;\n      lastTop = cY;\n      startX = e.touches[0].clientX;\n      startY = e.touches[0].clientY;\n      startLeft = this.imgBox.scrollLeft;\n    });\n    this.imgBox.addEventListener('touchmove', (e) => {\n      e.preventDefault();\n      if (inScale) {\n        const x1 = e.touches[0].clientX;\n        const y1 = e.touches[0].clientY;\n        const x2 = e.touches[1].clientX;\n        const y2 = e.touches[1].clientY;\n        const curScaleLen = Math.sqrt((y2 - y1) * (y2 - y1) + (x2 - x1) * (x2 - x1));\n        curScale = curScaleLen / scaleStart * lastScale;\n        curScale = curScale < 1 ? 1 : curScale > 5 ? 5 : curScale;\n        transformScale = `scale(${curScale})`;\n        this.images[this.currentIndex].style.transform = transformScale;\n      }\n      if (curScale > 1) {\n        const x1 = e.touches[0].clientX;\n        const y1 = e.touches[0].clientY;\n        cX = x1 - startX + lastLeft;\n        cY = y1 - startY + lastTop;\n        const img = this.images[this.currentIndex];\n        const offsetWidth = img.offsetWidth;\n        const offsetHeight = img.offsetHeight;\n        const maxWidth = img.offsetWidth * curScale;\n        const maxHeight = img.offsetHeight * curScale;\n        const maxOverflowWidth = (maxWidth - offsetWidth) / 2;\n        const maxOverflowHeight = (maxHeight - offsetHeight) / 2;\n        cX = cX > maxOverflowWidth ? maxOverflowWidth : cX < -maxOverflowWidth ? -maxOverflowWidth : cX;\n        cY = cY > maxOverflowHeight ? maxOverflowHeight : cY < -maxOverflowHeight ? -maxOverflowHeight : cY\n        img.style.left = cX + 'px';\n        img.style.top = cY + 'px';\n        img.style.transform = transformScale;\n      }\n      if (!this.intouch || curScale > 1) {\n        return;\n      }\n      const x = e.touches[0].clientX;\n      const dis = x - startX;\n      if (dis > 50) {\n        dir = -1;\n      } else if (dis < -50) {\n        dir = 1;\n      } else {\n        dir = 0;\n      }\n      const img = this.images[this.currentIndex];\n      transformScale = 'scale(1)';\n      img.style.left = 0 + 'px';\n      img.style.top = 0 + 'px';\n      img.style.transform = transformScale;\n      cX = 0\n      cY = 0;\n      curScale = 1;\n      this.imgBox.scrollLeft = startLeft - dis;\n    });\n    this.imgBox.addEventListener('touchend', (e) => {\n      this.intouch = false;\n      inScale = false;\n      if (dir !== 0) {\n        scaleStart = 0;\n        inScale = false;\n        curScale = 1;\n        lastScale = 1;\n        this.images[this.currentIndex].style.transform = `scale(1)`;\n        if (dir < 0) {\n          if (this.currentIndex <= 0) return;\n          this.currentIndex--;\n        } else {\n          if (this.currentIndex >= this.images.length - 1) return;\n          this.currentIndex++;\n        }\n\n      } else {\n        this.currentIndex = this.currentIndex;\n      }\n      dir = 0;\n    });\n  }\n  get currentIndex() {\n    return this._currentIndex;\n  }\n  set currentIndex(v) {\n    if (v < 0 || v >= this.images.length) {\n      console.warn('index is out of range: [0, ' + (this.images.length - 1) + ']')\n    }\n    const lastIndex = this._currentIndex;\n    this._currentIndex = v;\n    if (this.images[v].dataset['src']) {\n      this.images[v].src = this.images[v].dataset['src'];\n      this.images[v].dataset['src'] = '';\n    }\n    this.counter.innerText = v + 1 + '/' + this.images.length;\n    this.previewBar && this._scrollPreviewBarToIndex(lastIndex, v);\n    this._scrollToIndex(v);\n  }\n  _scrollPreviewBarToIndex(lastIndex: number, idx: number) {\n    this.previewBar.children[lastIndex].classList.remove('current');\n    const curPreviewImg = this.previewBar.children[idx] as HTMLImageElement;\n    curPreviewImg.classList.add('current');\n    let scrollLeft = curPreviewImg.offsetLeft - curPreviewImg.parentElement.clientWidth / 2 + curPreviewImg.offsetWidth / 2;\n    scrollLeft = scrollLeft < 0 ? 0 : scrollLeft;\n    const start = curPreviewImg.parentElement.scrollLeft;\n    const end = scrollLeft;\n    cancelAnimationFrame(this.pRaf);\n    let cur = start;\n    const scrollTo = () => {\n      let step = (end - cur) / 5;\n      if (end > start && cur >= end - 1 || end < start && cur <= end + 1) {\n        this.previewBar.scrollLeft = end;\n        return;\n      }\n      cur += step;\n      if (cur <= 1) {\n        this.previewBar.scrollLeft = 0;\n        return;\n      } else if (cur >= this.previewBar.scrollWidth - 1) {\n        this.previewBar.scrollLeft = this.previewBar.scrollWidth;\n        return;\n      }\n      this.previewBar.scrollLeft = cur;\n      this.pRaf = requestAnimationFrame(scrollTo);\n    }\n    scrollTo();\n  }\n  _scrollToIndex(idx: number) {\n    cancelAnimationFrame(this.raf);\n    const end = this.images[idx].parentElement.offsetLeft;\n    let start = this.imgBox.scrollLeft;\n    let cur = start;\n    const scrollTo = () => {\n      let step = (end - cur) / 5;\n      if (end > start && cur >= end - 1 || end < start && cur <= end + 1) {\n        this.imgBox.scrollLeft = end;\n        return;\n      }\n      cur += step;\n      if (cur <= 1) {\n        this.imgBox.scrollLeft = 0;\n        return;\n      } else if (cur >= this.imgBox.scrollWidth - 1) {\n        this.imgBox.scrollLeft = this.imgBox.scrollWidth;\n        return;\n      }\n      this.imgBox.scrollLeft = cur;\n      this.raf = requestAnimationFrame(scrollTo);\n    }\n    scrollTo();\n  }\n  setImageList(imgUrls: string[] | HTMLImageElement[]) {\n    let images: HTMLImageElement[] = [];\n    const frg = document.createDocumentFragment();\n    const previewFrg = document.createDocumentFragment();\n    let idx = -1;\n    for (let imgUrl of imgUrls) {\n      idx++;\n      let img = null;\n      if (typeof imgUrl === 'string') {\n        img = document.createElement('img');\n        if (this.lazy && idx !== 0) {\n          img.dataset['src'] = imgUrl;\n        } else {\n          img.src = imgUrl;\n        }\n      } else {\n        img = imgUrl;\n      }\n      const box = this._imgBoxFactory(img);\n      images.push(img);\n      if (this.previewBar) {\n        const previewImg = document.createElement('img');\n        previewImg.className = 'pic-viewer-preview-img';\n        previewImg.dataset['index'] = '' + idx;\n        previewImg.src = img.src;\n        previewFrg.appendChild(previewImg);\n      }\n      frg.appendChild(box);\n    }\n    if (this.previewBar) {\n      this.previewBar.innerHTML = '';\n      this.previewBar.appendChild(previewFrg);\n    }\n    this.counter.innerText = this.currentIndex + 1 + '/' + images.length;\n    this.images = images;\n    this.imgBox.innerHTML = '';\n    this.imgBox.appendChild(frg);\n  }\n  _imgBoxFactory(img: HTMLImageElement) {\n    img.style.maxWidth = '100%';\n    img.style.maxHeight = '100%';\n    img.style.position = 'relative';\n    const div = document.createElement('div');\n    div.style.cssText = 'min-width: 100%;height: 100%;display: flex;justify-content: center;align-items: center;';\n    div.appendChild(img);\n    return div;\n  }\n  destroy() {\n    this.el.innerHTML = '';\n    this.images = [];\n  }\n}","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = \"./src sync recursive\";\nmodule.exports = webpackEmptyContext;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./src/index.ts\");\n"],"sourceRoot":""}